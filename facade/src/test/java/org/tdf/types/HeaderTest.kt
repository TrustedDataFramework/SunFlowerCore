package org.tdf.types

import org.junit.Test
import org.junit.runner.RunWith
import org.junit.runners.JUnit4
import org.tdf.common.util.hex
import org.tdf.sunflower.types.HeaderImpl

@RunWith(JUnit4::class)
class HeaderTest {

    @Test
    fun test0() {
        val h = HeaderImpl(
            hashPrev = "0x430e0c9b85ad3298311be6c0e555f2384fd59c84513568c8f4462eec8b4145d8".hex(),
            unclesHash = "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347".hex(),
            coinbase = "0x0000000000000000000000000000000000000000".hex(),
            stateRoot = "0xb4fc83b2cabcec3df0f5058b4a2002bb9524cadf0eb23bf3c7cd804f1057445d".hex(),
            transactionsRoot = "0xf1f6ff7e5e5659275500edbc87d1d00ceb7db2b81075d053ccfdbdcad5d2beb5".hex(),
            receiptsRoot = "0x736eba201850a81e9f73dd8a665d1707318d68895685ebdbb2566028c85f3e7d".hex(),
            logsBloom = "00000000100000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000040000000000080000000000000000000000000020000000000000000000800000020000000000000000000000000000000000000000000000400000000000020000000000000000000000000000000000200000000000000000800000000000000000000000000000000000000000000080000000000000000000000000000008000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000".hex(),
            difficulty = 2,
            height = 1L,
            gasLimit = 11488771,
            gasUsed = 267956,
            createdAt = 1626069049,
            extraData = "d983010a05846765746888676f312e31362e338664617277696e00000000000087fdf8a65f66c9fef08f71ece2295f3e822bbd94417cd842b56e27f9c0f2ab0e4550c619ee80a59462c579d5f42b44505cd114cdfe578e00f6e604b79ed8107e00".hex(),
            mixHash = "0x0000000000000000000000000000000000000000000000000000000000000000".hex(),
            nonce = "0000000000000000".hex()
        )

        assert(h.hash == "ec9cbd385f78ffcfbbb962e0f39c47e0b5649c970e0c6c75b0e92a2a7cee97a7".hex())
    }
}